<cfwebsocket name="demoSocket"
             subscribeto="DemoChannel"
             onMessage="msgHandler"
             onOpen="openHandler"/>

<script>
    var getUser = function()
    {
        // Invoke CFC method to return the user.
        demoSocket.invoke("userService", "getUser", ['123']);
    }

    var msgHandler = function(message)
    {
        // Get data from the received message token
        var data = message.data;

        if(data)
        {
            // If data exists do something
        }
    }

    var openHandler = function()
    {
        // do nothing
    }

</script>


<button onclick="getUser();">Invoke CFC to Get USER</button>
